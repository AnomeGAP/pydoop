
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>pydoop.hadut — Hadoop shell interaction &#8212; Pydoop 2.0.0 documentation</title>
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Examples" href="../examples/index.html" />
    <link rel="prev" title="pydoop.hdfs — HDFS API" href="hdfs_api.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../examples/index.html" title="Examples"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="hdfs_api.html" title="pydoop.hdfs — HDFS API"
             accesskey="P">previous</a> |</li>
	<li><a href="../index.html">Home</a>|&nbsp;</li>
	<li><a href="../installation.html">Installation</a>|&nbsp;</li>
	<li><a href="https://github.com/crs4/pydoop/issues">Support</a>|&nbsp;</li>
	<li><a href="https://github.com/crs4/pydoop">Git Repo</a>|&nbsp;</li>
	<li><a href="https://crs4.github.io/pydoop/_pydoop1">Pydoop 1</a></li>

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">API Docs</a> &#187;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo.png" alt="Logo"/>
            </a></p>
            <h4>Previous topic</h4>
            <p class="topless"><a href="hdfs_api.html"
                                  title="previous chapter"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pydoop.hdfs</span></code> — HDFS API</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="../examples/index.html"
                                  title="next chapter">Examples</a></p>

					<h4>Get Pydoop</h4>
					<ul>
						<li> <a href="https://pypi.python.org/pypi/pydoop">Download page</a> </li>
						<li> <a href="../installation.html"> Installation Instructions </a> </li>
					</ul>

					<h4>Contributors</h4>
					<p class="topless">
					Pydoop is developed by:
					<a href="http://www.crs4.it">
						<img src="../_static/crs4.png" alt="CRS4" width="200" height="60" />
					</a>
					</p>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-pydoop.hadut">
<span id="pydoop-hadut-hadoop-shell-interaction"></span><span id="hadut"></span><h1><a class="reference internal" href="#module-pydoop.hadut" title="pydoop.hadut"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pydoop.hadut</span></code></a> — Hadoop shell interaction<a class="headerlink" href="#module-pydoop.hadut" title="Permalink to this headline">¶</a></h1>
<p>Provides access to some functionalities available via the Hadoop shell.</p>
<dl class="exception">
<dt id="pydoop.hadut.RunCmdError">
<em class="property">exception </em><code class="descclassname">pydoop.hadut.</code><code class="descname">RunCmdError</code><span class="sig-paren">(</span><em>returncode</em>, <em>cmd</em>, <em>output=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pydoop.hadut.RunCmdError" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised by <a class="reference internal" href="#pydoop.hadut.run_tool_cmd" title="pydoop.hadut.run_tool_cmd"><code class="xref py py-func docutils literal notranslate"><span class="pre">run_tool_cmd()</span></code></a> and all functions that make
use of it to indicate that the call failed (returned non-zero).</p>
</dd></dl>

<dl class="function">
<dt id="pydoop.hadut.collect_output">
<code class="descclassname">pydoop.hadut.</code><code class="descname">collect_output</code><span class="sig-paren">(</span><em>mr_out_dir</em>, <em>out_file=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pydoop.hadut.collect_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all mapreduce output in <code class="docutils literal notranslate"><span class="pre">mr_out_dir</span></code>.</p>
<p>Append the output to <code class="docutils literal notranslate"><span class="pre">out_file</span></code> if provided.  Otherwise, return
the result as a single string (it is the caller’s responsibility to
ensure that the amount of data retrieved fits into memory).</p>
</dd></dl>

<dl class="function">
<dt id="pydoop.hadut.run_class">
<code class="descclassname">pydoop.hadut.</code><code class="descname">run_class</code><span class="sig-paren">(</span><em>class_name</em>, <em>args=None</em>, <em>properties=None</em>, <em>classpath=None</em>, <em>hadoop_conf_dir=None</em>, <em>logger=None</em>, <em>keep_streams=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pydoop.hadut.run_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a Java class with Hadoop (equivalent of running <code class="docutils literal notranslate"><span class="pre">hadoop</span>
<span class="pre">&lt;class_name&gt;</span></code> from the command line).</p>
<p>Additional <code class="docutils literal notranslate"><span class="pre">HADOOP_CLASSPATH</span></code> elements can be provided via
<code class="docutils literal notranslate"><span class="pre">classpath</span></code> (either as a non-string sequence where each element
is a classpath element or as a <code class="docutils literal notranslate"><span class="pre">':'</span></code>-separated string).  Other
arguments are passed to <a class="reference internal" href="#pydoop.hadut.run_cmd" title="pydoop.hadut.run_cmd"><code class="xref py py-func docutils literal notranslate"><span class="pre">run_cmd()</span></code></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">HADOOP_CLASSPATH</span></code> makes dependencies available <strong>only on the
client side</strong>.  If you are running a MapReduce application, use
<code class="docutils literal notranslate"><span class="pre">args=['-libjars',</span> <span class="pre">'jar1,jar2,...']</span></code> to make them available to
the server side as well.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="pydoop.hadut.run_cmd">
<code class="descclassname">pydoop.hadut.</code><code class="descname">run_cmd</code><span class="sig-paren">(</span><em>cmd</em>, <em>args=None</em>, <em>properties=None</em>, <em>hadoop_home=None</em>, <em>hadoop_conf_dir=None</em>, <em>logger=None</em>, <em>keep_streams=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pydoop.hadut.run_cmd" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the <code class="docutils literal notranslate"><span class="pre">hadoop</span></code> command.</p>
<p>Calls <a class="reference internal" href="#pydoop.hadut.run_tool_cmd" title="pydoop.hadut.run_tool_cmd"><code class="xref py py-func docutils literal notranslate"><span class="pre">run_tool_cmd()</span></code></a> with <code class="docutils literal notranslate"><span class="pre">&quot;hadoop&quot;</span></code> as the first argument.</p>
</dd></dl>

<dl class="function">
<dt id="pydoop.hadut.run_tool_cmd">
<code class="descclassname">pydoop.hadut.</code><code class="descname">run_tool_cmd</code><span class="sig-paren">(</span><em>tool</em>, <em>cmd</em>, <em>args=None</em>, <em>properties=None</em>, <em>hadoop_conf_dir=None</em>, <em>logger=None</em>, <em>keep_streams=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pydoop.hadut.run_tool_cmd" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a Hadoop command.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">keep_streams</span></code> is set to <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#True" title="(in Python v2.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a> (the default), the
stdout and stderr of the command will be buffered in memory.  If
the command succeeds, the former will be returned; if it fails, a
<code class="docutils literal notranslate"><span class="pre">RunCmdError</span></code> will be raised with the latter as the message.
This mode is appropriate for short-running commands whose “result”
is represented by their standard output (e.g.,
<code class="docutils literal notranslate"><span class="pre">rval</span> <span class="pre">=</span> <span class="pre">run_tool_cmd(&quot;hdfs&quot;,</span> <span class="pre">&quot;dfsadmin&quot;,</span> <span class="pre">[&quot;-safemode&quot;,</span> <span class="pre">&quot;get&quot;])</span></code>).</p>
<p>If <code class="docutils literal notranslate"><span class="pre">keep_streams</span></code> is set to <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#False" title="(in Python v2.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a>, the command will write
directly to the stdout and stderr of the calling process, and the
return value will be empty.  This mode is appropriate for long
running commands that do not write their “real” output to stdout.</p>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../examples/index.html" title="Examples"
             >next</a> |</li>
        <li class="right" >
          <a href="hdfs_api.html" title="pydoop.hdfs — HDFS API"
             >previous</a> |</li>
	<li><a href="../index.html">Home</a>|&nbsp;</li>
	<li><a href="../installation.html">Installation</a>|&nbsp;</li>
	<li><a href="https://github.com/crs4/pydoop/issues">Support</a>|&nbsp;</li>
	<li><a href="https://github.com/crs4/pydoop">Git Repo</a>|&nbsp;</li>
	<li><a href="https://crs4.github.io/pydoop/_pydoop1">Pydoop 1</a></li>

          <li class="nav-item nav-item-1"><a href="index.html" >API Docs</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2009-2019, CRS4.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.0.1.
    </div>
  </body>
</html>